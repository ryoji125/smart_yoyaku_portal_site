<div class="container">
  <div class="row">
    <div class="col-md-8 offset-2">
      <% flash.each do |message_type, msg| %>
        <div class="mt-4 alert alert-<%= message_type %>"><%= msg %></div>
      <% end %>
      <h3 class="my-5 text-center">マッサージ師の登録情報編集</h3>
      <hr>
      <div class="jumbotron">
        <div class="form_group">
          <%= form_with(model: @masseur, url: store_manager_masseur_path, local: true) do |f| %>
            <%= render "shared/error_messages", object: f.object %>

            <div class="field">
              <%= f.label Masseur.human_attribute_name(:masseur_name), class: "mr-2" %>
              <span class="badge badge-danger">必須</span>
              <%= f.text_field :masseur_name, autofocus: true, autocomplete: "masseur_name", class: "form-control" %>
            </div>

            <div class="field mt-3">
              <%= f.label Masseur.human_attribute_name(:email), class: "mr-2" %>
              <span class="badge badge-danger">必須</span>
              <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control", required: true %>
            </div>

            <div class="field mt-3">
              <%= f.label Masseur.human_attribute_name(:adress) %>
              <%= f.text_field :adress, autofocus: true, autocomplete: "adress",
              placeholder: "例）東京都墨田区押上１丁目１−２", class: "form-control" %>
            </div>

            <div class="field mt-3">
              <%= f.label Masseur.human_attribute_name(:phone_number) %>
              <%= f.text_field :phone_number,  autofocus: true, autocomplete: "phone_number",
              placeholder: "例）012−3456-7890", class: "form-control" %>
            </div>

            <div class="field mt-3">
              <%= f.label Masseur.human_attribute_name(:password) %><i>(変更しない場合は空欄のまま)</i>
              <%= f.password_field :password, placeholder: "6文字以上", class: "form-control" %>
            </div>

            <div class="field mt-3">
              <%= f.label Masseur.human_attribute_name(:password_confirmation) %>
              <%= f.password_field :password_confirmation, class: "form-control" %>
            </div>

            <div class="field mt-3">
              <%= f.label "施術カテゴリー", class: "mb-3" %><i>(複数選択可)</i>
              <div class="category-list">
                <%= collection_check_boxes :country, :country_ids, Country.all, :id, :name do |c| %>
                  <li class="mt-3">
                    <%# <a class="" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample"> %>
                      【<%= c.label { c.text }%>】
                    <%# </a> %>
                  </li>
                  <%# <div class="collapse" id="collapseExample"> %>
                    
                      <%= f.collection_check_boxes :category_ids, Category.all, :id, :category_name do |cc| %>
                        <% if c.object.id == cc.object.country_id %>
                          <li><%= cc.label { cc.check_box + cc.text }%></li>
                        <% end %>
                      <% end %>             
                    
                  <%# </div> %>
                <% end %> 
              </div>
            </div>

            <div class="actions text-center">
              <%= f.submit "登録情報を更新する", class: "btn btn-primary mt-5 w-50" %>
            </div>
          <% end %>
        </div>
      </div>
      <%# <br><br> %>
      <%= link_to "マッサージ師一覧に戻る", store_manager_masseurs_path %><br><br>
    </div>
  </div>
</div>